## 何をテストするのか

さて、ここまでテスト駆動開発について説明してきましたが、ソフトウェア開発の世界では宗教論てきなものがあり、そもそも全てのコードをテスト駆動開発にする必要はない、という意見もあります。例えば、Ruby on Railsの作者として著名であり、37Signalsという企業のCEOでもあるDHH(David Heinemeier Hansson)氏は、[TDD is dead. Long live testing.]というブログを公開し物議を醸しました。今回のように一つ一つの機能をテストすることをユニットテスト(単体テスト)と言いますが、DHH氏はこうしたユニットテストにTDDはフォーカスしがちであると述べています。DHH氏の場合はこうしたユニットテストはほとんど書かず、複数の機能が組み合わさった部分の(インテグレーションテストと呼びます)テストを重要視しています。

また、小規模なアプリケーションで個人で開発するという場合であれば、テストを行う部分を重要な部分のみに限定するというのも良いかと思います。CodeGritでは、上述の通り、リファクタリングでプログラミングのレベルが高まることや、慣れるまでは今回のような冗長なコードを書きがちですので、練習も含めてテストを多めに書くことを推奨します。

## コードカバレッジ

JestにはデフォルトでIstanbulというテストがどの程度のコードについて行われているか(コードカバレッジと呼ぶ)を調査するツールが組み込まれています。これを有効にしておくと、テスト量がどの程度あるか簡単に確認出来ます。

設定は、package.jsonに以下のように書くことで出来ます。

```json
  "jest": {
  "transform": {
    "^.+\\.jsx?$": "babel-jest"
  },
  "collectCoverageFrom": [
    "**/src/**/*.js"
  ],
  "collectCoverage": true
  },
```

テストを再度起動すると以下のように表示されるはずです。

```bash
----------------------|----------|----------|----------|----------|-------------------|
File                  |  % Stmts | % Branch |  % Funcs |  % Lines | Uncovered Line #s |
----------------------|----------|----------|----------|----------|-------------------|
All files             |      100 |      100 |      100 |      100 |                   |
 PasswordValidator.js |      100 |      100 |      100 |      100 |                   |
----------------------|----------|----------|----------|----------|-------------------|

```

PasswordValidatorについては、コードカバレッジ100%という結果が出ました。

## その他の機能

Jestには、モックや、setup、teardownといった今回説明していない機能もあります。こうした機能はReactコースでも触れていく予定です。またjestのドキュメントは非常に良く出来ていますので、英語ではありますがこちらも確認すると良いでしょう。

## 更に学ぼう

### 記事で学ぶ

- [Jest公式ドキュメント(日本語)](https://facebook.github.io/jest/docs/ja/getting-started.html)